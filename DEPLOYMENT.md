# Vercel Deployment Guide

## Quick Deploy (Recommended)

### Option 1: One-Click Deploy
[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/your-username/chatbot-personality-study)

### Option 2: Manual Deploy

1. **Install Vercel CLI**:
   ```bash
   npm i -g vercel
   ```

2. **Login to Vercel**:
   ```bash
   vercel login
   ```

3. **Deploy**:
   ```bash
   vercel
   ```

## Required Environment Variables

Set these in Vercel Dashboard or via CLI:

```bash
vercel env add GROQ_API_KEY
# Enter your Groq API key from https://console.groq.com

vercel env add JWT_SECRET
# Enter a secure random string (use: openssl rand -base64 32)

vercel env add POSTGRES_URL
# This will be auto-generated when you add Vercel Postgres
```

## Database Setup

### 1. Add Vercel Postgres
In your Vercel dashboard:
- Go to your project
- Click "Storage" tab
- Click "Create Database" 
- Select "Postgres"
- Choose a name (e.g., "chatbot-study-db")

### 2. Initialize Database
After deployment, visit:
```
https://your-app.vercel.app/api/init
```

This will create all necessary tables and the admin user.

## Post-Deployment Steps

1. **Test the Application**:
   - Visit your Vercel URL
   - Try both chat interfaces
   - Login to admin panel (admin/admin123)

2. **Initialize Database**:
   ```bash
   curl https://your-app.vercel.app/api/init
   ```

3. **Verify Analytics**:
   - Have some test conversations
   - Check admin dashboard for data

## Environment Variables Explained

- **GROQ_API_KEY**: Your Groq API key for AI responses
- **JWT_SECRET**: Secret for admin authentication (generate with `openssl rand -base64 32`)
- **POSTGRES_URL**: Auto-generated by Vercel when you add Postgres storage

## Security Notes

‚ö†Ô∏è **Change Default Admin Password**:
- Login with admin/admin123
- Go to admin settings (you may need to add this feature)
- Or update directly in database

## Troubleshooting

### Common Issues:

1. **Database Connection Errors**:
   - Ensure Vercel Postgres is properly configured
   - Check that POSTGRES_URL is set correctly
   - Visit `/api/init` to initialize tables

2. **Groq API Errors**:
   - Verify your GROQ_API_KEY is correct
   - Check Groq dashboard for usage limits
   - Ensure your API key has proper permissions

3. **Authentication Issues**:
   - Verify JWT_SECRET is set
   - Clear browser cookies and try again
   - Check that database tables were created properly

### Debug Commands:

```bash
# Check environment variables
vercel env ls

# View function logs
vercel logs

# Redeploy
vercel --prod
```

## Production Checklist

- [ ] Groq API key configured
- [ ] JWT secret set (not default)
- [ ] Postgres database created
- [ ] Database initialized via `/api/init`
- [ ] Admin login tested
- [ ] Both chat interfaces working
- [ ] Analytics tracking functional
- [ ] SSL certificate active (automatic with Vercel)

## Cost Considerations

- **Vercel**: Free tier includes 100GB bandwidth, 100 serverless function invocations
- **Vercel Postgres**: Free tier includes 60 hours compute time, 0.5GB storage
- **Groq API**: Free tier includes generous usage limits

Perfect for academic research projects! üéì